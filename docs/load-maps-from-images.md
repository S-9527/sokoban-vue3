# 游戏启动流程说明

## 从图片加载地图的工作流程

1. 游戏启动时，首先尝试从 `/data/maps/` 目录加载所有 `.png` 格式的地图图片
2. 如果找到地图图片，则将其解析为游戏数据并设置为当前关卡
3. 如果没有找到地图图片，则尝试从浏览器本地存储中加载保存的地图数据
4. 如果本地存储中也没有地图数据，则使用 `index.ts` 中的默认地图数据

## 地图编辑器操作流程

1. 在地图编辑器中设计地图
2. 点击"导出图片快照"按钮生成地图图片
3. 可以选择"下载图片"保存到本地，或者"保存到本地"将图片保存到浏览器本地存储
4. 下载的图片可以放入 `/data/maps/` 目录，供游戏启动时加载
5. 保存到本地的图片将在游戏启动时自动加载

## 地图图片规范

1. 图片必须是PNG格式
2. 图片尺寸应该是地图格子数量 * 32像素
3. 图片必须是从地图编辑器导出的，包含正确的颜色编码

## 调试与注意事项

1. 如果无法正确加载地图图片，请检查浏览器控制台中的错误信息
2. 确保图片文件格式正确，且能被正确解析
3. 在开发环境中，可能需要重启开发服务器以使新添加的图片文件生效